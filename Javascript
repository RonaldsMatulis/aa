const items = [
    {
        "apakstips": "mehāniskie svari",
        "id": 1,
        "komentari": "",
        "nosaukums": "Mehāniskie svari QWS",
        "skaits": 5,
        "tips": "svari"
    },
    {
        "apakstips": "elektroniskie svari",
        "id": 2,
        "komentari": "Darbojas uz 3 AAA tipa baterijām",
        "nosaukums": "Elektroniskie svari ES-25",
        "skaits": 15,
        "tips": "svari"
    },
    {
        "apakstips": "plītiņa",
        "id": 3,
        "komentari": "Strāvas vada garums 1m",
        "nosaukums": "Elektriskā plītīņa",
        "skaits": 8,
        "tips": "sildītājs"
    },
    {
        "apakstips": "trauki",
        "id": 4,
        "komentari": "Kolbas īpaši lielām vielām",
        "nosaukums": "Milzīgās kolbas",
        "skaits": 100,
        "tips": "trauks"
    },
    {
        "apakstips": "stikls",
        "id": 5,
        "komentari": "Viegli plīstoša",
        "nosaukums": "Stikla mēģene",
        "skaits": 12,
        "tips": "trauks"
    },
    {
        "apakstips": "sāls",
        "daudzums": 100,
        "id": 2,
        "komentari": "",
        "mervienibas": "g",
        "nosaukums": "Kalcija karbonāts CaCO3",
        "skaits": 25,
        "tips": "reaģents"
    },
    {
        "apakstips": "hidroksīds",
        "daudzums": 50,
        "id": 3,
        "komentari": "Šķīdums izvedots un sapildīts 2020.09.23",
        "mervienibas": "ml",
        "nosaukums": "NaOH šķīdums 10%",
        "skaits": 45,
        "tips": "reaģents"
    },
    {
        "apakstips": "skābe",
        "daudzums": 100,
        "id": 4,
        "komentari": "Šķīdums izvedots un sapildīts 2020.10.21",
        "mervienibas": "ml",
        "nosaukums": "Sālsskābes HCl šķīdums 20%",
        "skaits": 24,
        "tips": "reaģents"
    },
    {
        "apakstips": "test1",
        "daudzums": 50,
        "id": 5,
        "komentari": "Šķīdums izvedots un sapildīts 2020.09.23",
        "mervienibas": "ml",
        "nosaukums": "NaOH šķīdums 10%",
        "skaits": 45,
        "tips": "reaģents"
    },
    {
        "apakstips": "hidroksīds",
        "daudzums": 100,
        "id": 6,
        "komentari": "Šķīdums izvedots un sapildīts 2020.10.21",
        "mervienibas": "ml",
        "nosaukums": "NaOH šķīdums 20%",
        "skaits": 413,
        "tips": "reaģents"
    },
    {
        "apakstips": "test2",
        "daudzums": 50,
        "id": 7,
        "komentari": "Šķīdums izvedots un sapildīts lorem ipsum",
        "mervienibas": "ml",
        "nosaukums": "NaOH šķīdums 10%",
        "skaits": 45,
        "tips": "reaģents"
    },
    {
        "apakstips": "test2",
        "daudzums": 5,
        "id": 8,
        "komentari": "Šķīdums izvedots un sapildīts lorem ipsum",
        "mervienibas": "ml",
        "nosaukums": "Nosaukums lorem ipsum",
        "skaits": 4,
        "tips": "reaģents"
    },
    {
        "apakstips": "test2",
        "daudzums": 5,
        "id": 9,
        "komentari": "Šķīdums izvedots un sapildīts lorem ipsum",
        "mervienibas": "ml",
        "nosaukums": "Nosaukums lorem ipsum",
        "skaits": 4,
        "tips": "reaģents"
    },
    {
        "apakstips": "test2",
        "daudzums": 5,
        "id": 10,
        "komentari": "Šķīdums izvedots un sapildīts lorem ipsum",
        "mervienibas": "ml",
        "nosaukums": "Nosaukums lorem ipsum",
        "skaits": 4,
        "tips": "reaģents"
    },
    {
        "apakstips": "test2",
        "daudzums": 5,
        "id": 11,
        "komentari": "Šķīdums izvedots un sapildīts lorem ipsum",
        "mervienibas": "ml",
        "nosaukums": "Nosaukums lorem ipsum",
        "skaits": 4,
        "tips": "reaģents"
    },
    {
        "apakstips": "test2",
        "daudzums": 5,
        "id": 12,
        "komentari": "Šķīdums izvedots un sapildīts lorem ipsum",
        "mervienibas": "ml",
        "nosaukums": "Nosaukums lorem ipsum",
        "skaits": 4,
        "tips": "reaģents"
    },
    {
        "apakstips": "test2",
        "daudzums": 5,
        "id": 13,
        "komentari": "Šķīdums izvedots un sapildīts lorem ipsum",
        "mervienibas": "ml",
        "nosaukums": "Nosaukums lorem ipsum",
        "skaits": 4,
        "tips": "reaģents"
    },
    {
        "apakstips": "test2",
        "daudzums": 5,
        "id": 14,
        "komentari": "Šķīdums izvedots un sapildīts lorem ipsum",
        "mervienibas": "ml",
        "nosaukums": "Nosaukums lorem ipsum",
        "skaits": 4,
        "tips": "reaģents"
    },
    {
        "apakstips": "test2",
        "daudzums": 5,
        "id": 15,
        "komentari": "Šķīdums izvedots un sapildīts lorem ipsum",
        "mervienibas": "ml",
        "nosaukums": "Nosaukums lorem ipsum",
        "skaits": 4,
        "tips": "reaģents"
    }
];

const users = [
    {
        "id": "1",
        "vards": "Janis",
        "uzvards": "Kociņš",
        "loma": "admin",
        "parole": "12",
        "Komentāri": "Daži komentāri"
    }
];

function showForm(formNumber) {
    document.querySelectorAll('.form').forEach(form => {
        form.style.display = 'none';
    });
    document.querySelector('.form-' + formNumber).style.display = 'flex';
}

function login(event) {
    event.preventDefault();
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    
    const user = users.find(user => user.vards === username && user.parole === password);
    
    if (user) {
        alert('Login successful!');
        showForm(3);
    } else {
        alert('Invalid username or password.');
    }
}

function populateTable() {
    const tableBody = document.querySelector('#dataTable tbody');
    tableBody.innerHTML = '';
    
    items.forEach(item => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${item.id}</td>
            <td>${item.nosaukums}</td>
            <td>${item.tips}</td>
            <td>${item.apakstips}</td>
            <td>${item.skaits}</td>
            <td>${item.daudzums || ''}</td>
            <td>${item.mervienibas || ''}</td>
            <td>${item.komentari}</td>
        `;
        tableBody.appendChild(row);
    });
}

function filterTable(type = '') {
    const filter = document.getElementById('search').value.toLowerCase();
    const tableBody = document.querySelector('#dataTable tbody');
    tableBody.innerHTML = '';
    
    const filteredItems = items.filter(item => {
        if (type && type !== 'all' && item.tips !== type) return false;
        if (filter && !item.nosaukums.toLowerCase().includes(filter) && !item.tips.toLowerCase().includes(filter) && !item.apakstips.toLowerCase().includes(filter)) return false;
        return true;
    });
    
    filteredItems.forEach(item => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${item.id}</td>
            <td>${item.nosaukums}</td>
            <td>${item.tips}</td>
            <td>${item.apakstips}</td>
            <td>${item.skaits}</td>
            <td>${item.daudzums || ''}</td>
            <td>${item.mervienibas || ''}</td>
            <td>${item.komentari}</td>
        `;
        tableBody.appendChild(row);
    });
}

document.addEventListener('DOMContentLoaded', () => {
    populateTable();
});
